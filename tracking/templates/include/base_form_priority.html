{% extends 'include/base.html' %}
{% load crispy_forms_tags %}
{% load static %}

{% block title %}
    <div class="title_block">
        <h2 class="title">{{ title_page }}</h2>
    </div>
{% endblock title %}

{% block content %}
    <div class="position_block">
        <div class="d-flex justify-content-center">
            <div class="row w-75">
                <form role="form" action="" method="post">
                    {% csrf_token %}
                    {{ form | crispy }}
                    <input type="hidden" name="next" value="{{ request.GET.next }}">
                    <button type="submit" class="btn btn-primary mt-3 text_button">{{ text_button }}</button>
                </form>
            </div>
        </div>
    </div>
{% endblock content %}

{% block script %}
    <script>
        function init_label_value() {
            const labels = document.getElementsByTagName('label');

            for (let i = 0; i < labels.length; ++i) {
                if (labels[i].htmlFor === "priority_value_ranger_mnu") {
                    let elem = document.getElementById("priority_value_ranger_mnu")
                    labels[i].innerText = "Значение приоритета (" + elem.value + ")*"
                }
            }
        }

        function change_label_value() {
            init_label_value()
        }

        init_label_value()
    </script>
{% endblock script %}